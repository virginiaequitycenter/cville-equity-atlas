---
layout: default
---

{% unless page.url == "/" %}
{% include breadcrumbs.html %}
{% endunless %}
  
  <article class="report-content">
    <div id="maincontent" class="main-container">
      {{ content}}
      </div>    
  </article>
 
  {% include footer.html %}


<script>
  $(document).ready(function () {
    window.buildTabsets("TOC");
  });
  
  $(document).ready(function () {
    $('.tabset-dropdown > .nav-tabs > li').click(function () {
      $(this).parent().toggleClass('nav-tabs-open');
    });
  });
</script>

<script>
  $(document).ready(function ()  {
  
    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    document.querySelector(`body`).classList.add('report');
      
  });
</script>

{% if page.toc-float %}
<script>

window.addEventListener('DOMContentLoaded', () => {

  // var target = document.querySelector("#TOC > ul");
  // target.querySelector("#TOC > ul > li").classList.add('active');


const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    const id = entry.target.getAttribute('id');
    console.log(id)
    console.log(document.querySelector(`div li a[href="#${id}"]`))
    if (entry.intersectionRatio > 0) {
      document.querySelector(`div li a[href="#${id}"]`).parentElement.classList.add('active');
    } else {
      document.querySelector(`div li a[href="#${id}"]`).parentElement.classList.remove('active');
    }
  });
});

// Track all sections that have an `id` applied
document.querySelectorAll('div[id]').forEach((section) => {
  observer.observe(section);
});

});

</script>
{% endif %}

