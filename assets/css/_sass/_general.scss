/* !---------- General Styles ------ */
* {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

@media (prefers-reduced-motion: reduce) {
  html:focus-within {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

html {
  scroll-behavior: smooth;
}

html,
body {
  margin: 0;
  padding: 0;
  scroll-padding-top: 70px;
}

body {
  font-family: $font-primary;
  font-weight: 400;
  font-size: 18px;
  line-height: 1.4;
  text-rendering: optimizeLegibility;
  background-color: rgb(247,250,255);
  word-wrap: break-word;
}

body.report {
  background-color: rgb(255,255,255);
}

.container-lg {
  padding-left: 0;
  padding-right: 0;
}

.visually-hidden {
  position: absolute !important;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  width: 1px;
  height: 1px;
  word-wrap: normal;
}

// @media screen and (max-width: 1260px) {
//   .container-lg,
//   header.nav div.nav-card,
//   footer, 
//   #maincontent, 
//   article.landing-page header div.header-content,
//   div.home-page header div.hero-container,  
//   article.report-content,
//   article.page-content,
//   .breadcrumbs {
//     max-width: 85vw;
//     margin-left: auto;
//     margin-right: auto;
//     padding-left: 0.75rem;
//     padding-right: 0.75rem;
//   }
// }


.container-lg,
header.nav div.nav-card,
footer, 
// #maincontent, 
div.home-page div.main-container,
article.landing-page header div.header-content,
article.landing-page div.main-container,
article.report-content div.main-container,
div.home-page header div.hero-container,  
// article.report-content,
article.page-content,
.breadcrumbs {
  // width: 100%;
  max-width: 1200px;
  margin-left: auto;
    margin-right: auto;
    // padding-left: 0.75rem;
    // padding-right: 0.75rem;
    padding: 0 4.167%;
}

// article.report-content div.main-container,
// article.report-content div.breadcrumbs 
// {
//   max-width: 1100px;
//     margin-left: auto;
//     margin-right: auto;
//     padding: 0 4.167%;
//     // padding-left: 8%;//4.167%;
//     // padding-right: 8%;//4.167%;
// }

@media screen and (max-width: 768px) {
  .container-lg,
  header.nav div.nav-card,
  footer, 
  #maincontent, 
  article.landing-page header div.header-content,
  // div.home-page header div.hero-container,  
  // article.report-content,
  article.page-content,
  .breadcrumbs {
    max-width: 85vw;
    margin-left: auto;
    margin-right: auto;
    padding: 0;
  }
}

// @media screen and (min-width: 1260px) {
//   .container-lg,
//   header.nav div.nav-card, 
//   footer, 
//   #maincontent, 
//   article.landing-page header div.header-content,
//   div.home-page header div.hero-container, 
//   article.report-content,
//   article.page-content,
//   .breadcrumbs {
//     max-width: 1220px;
//   }
// }

article, aside, footer, header, nav, section, div.home-page {
  display: block;
}

img {
  max-width: 100%;
  // height: auto;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin-top: 1em; //1.2em
  margin-bottom: 0.8em;
  font-weight: 500;
  line-height: 1.15;
  font-family: "Oswald", Arial, Helvetica, sans-serif;
  color: $dark-blue;

}

.shiny-app-frame {
  position: fixed;
  left: 0;
  top: 60px;
  bottom: 0;
  right: 0;
}

@media screen and (max-width: 768px) {
  .shiny-app-frame {
    top: 50px;
  }
}

.shiny-app-frame iframe {
  width: 100%;
  height: 100%;
  border: none;
}

article.landing-page,
article.report-content,
div.home-page {
  // margin-top: -130px;
  width: 100%;
  position: relative;
}

div.home-page {
  margin-top: 65px;
}

div.home-page header {
  display: block;
  position: relative;
  top: -65px;
  height: 680px;
  width: 100%;
}

div.home-page header div.header-image {
  width: 100%;
  max-width: none;
  height: 680px;
  position: relative;
  overflow: hidden;
  background-color: rgba(5,47,95,0.2);
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-blend-mode: multiply;
}


// .post-update-text {
//   // position: relative;
//   // z-index: 4;
//   margin: auto;
//   // top: -392px;
//   // width: 990px;
//   height: 320px;
//   // background-color: #fff;
//   padding: 45px 86px;

// // top: -460px;
// }

.post-update-text .heading,
.project-card .heading {
  margin: 5px 0;
}

.post-update-text .line,
.project-card .line {
  width: 30px;
  height: 4px;
  background-color: $link-red;//$primary-blue; // #00eeff;
  margin: 20px 0;
}

.post-update-text .title {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 2em;
  // color: #000000;
  margin-bottom: 20px;
}

.post-update-text .heading, 
.post-update-text .description {
  // font-size: 0.75em;
  color: #646464;
  line-height: normal;
}

// .post-update-text .post-link{
//   // color: #646464 !important;
//   font-size: 16px;
//   // transition: all .2s ease-in-out;
//   // background: linear-gradient(to top, $brand-blue-light 50%,transparent 50%);
//   // background-size: 100% 200%;
//   // background-position: top left;
// }

// .post-update-text .post-link svg {
//   // fill: #646464;
//   margin-left: 12px;
//   // transition: all .2s ease-in-out;
// }

// .post-update-text .post-link:hover {
//   // color: #fff !important;
//   // background-position: bottom left;
// }

// .post-update-text .post-link:hover svg {
//   fill: #fff !important;
// }

// for all .post-link 
.post-link {
  display: inline-block;
  color: $dark-blue !important; //$body-text
  font-size: 18px;//16px;
  line-height: 1.6;
  text-decoration: none;
  border-bottom: 2px solid $primary-blue;
  max-width: max-content;
  font-weight: 500;
  transition: all .2s ease-in-out;
}

.post-link svg {
  fill: $dark-blue;
  margin-left: 12px;
}

// .post-link:hover {
//   border-bottom: 2px solid $accent-yellow;
// }

article.landing-page header {
  // width: 100%;
  // max-width: none;
  // height: 600px;
  // position: relative;
  overflow: hidden;
  // z-index: 1;
  font-family: "Oswald",arial,sans-serif;
  font-size: 42px;
  color: #ffffff;
  text-align: left;
  // background-size: cover;
  // background-position: 50% 50%;
  // background-repeat: no-repeat;
  background-color: rgba(0,0,0,0.2);
  // background-blend-mode: multiply;
}

article.landing-page header div.header-image {
  width: 100%;
  max-width: none;
  height: 400px;//500px;
  position: relative;
  overflow: hidden;

  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-blend-mode: multiply;
}

article.landing-page header h1 {
  color: #FFFFFF;
  font-size: 60px;
  font-weight: 500;
  text-transform: uppercase;
}

@media screen and (max-width: 768px) {
  div.home-page header {
    height: 100%;
  }
  article.landing-page header div.header-image,
  div.home-page header div.header-image {
    height: 320px;
  }

  article.landing-page header h1 {
    font-size: 42px;
  }
}

article.landing-page header div.header-overlay {
  content: '';
  display: block;
  position: absolute;
  // left: 0;
  bottom: 0;
  width: 100%;
  height: 80%; //250px;
  opacity: 0.6;
  background: -webkit-gradient(linear,left top,left bottom,from(transparent),to(#052F5F)); 
  background: linear-gradient(to bottom,transparent 0%,#052F5F 100%);
}

article.landing-page header div.header-content {
  @include flexbox();
  @include align-items(flex-end);
  height: 100%;
  position: relative;
}

article.landing-page .page-subtitle {
  padding-top: 1rem;
}

article.landing-page .page-subtitle h2 {
  font-family: 'Poppins', Arial, sans-serif; 
  font-weight: 400;
  font-size: calc(1rem + .7vw);
}

article.landing-page .page-subtitle h2::after {
  display: block;
  content: " ";
  height: 4px;
  width: 50px;
  background: $link-red;
  margin: 1.5rem 0;
}


.flex-container {
  @include flexbox();
  @include flex-flow(row wrap);
  @include align-items(stretch);
  @include justify-content(space-between);
  // margin-top: calc(-1 * 1.5rem);
  // margin-right: calc(-.5 * 1.5rem);
  // margin-left: calc(-.5 * 1.5rem);
  // padding-top: 3rem !important;
  padding-bottom: 3rem !important;
}

.flex-item {
  // @include flex(0 0 auto);
  flex: 1 0 50%;
max-width: 100%;
margin: 1.5rem 1.5rem 1.5rem 0;
  // flex: 0 0 32%;
  // width: 33.3333333333%;
  max-width: 100%;
  // padding-right: calc(1.5rem * .5);
  // padding-left: calc(1.5rem * .5);
  // margin-top: 1.5rem;
}

.grid-container {
  display: grid;
  grid-column-gap: 30px;
  grid-template-columns: [start] repeat(9,1fr) [end];
  margin: auto;
  // margin-top: 30px
}

  @media (min-width: 1069px) {
.grid-container {
  grid-template-columns: [start] repeat(12,1fr) [end];
  // margin-top: 60px
}
  }


.grid-container .project-card {
  // grid-column-end: span 4;
// max-width: none;
// max-width: 400px;
margin-top: 30px;
position: relative;
margin-bottom: 50px;
// height: 233px;
} 

  @media (min-width: 736px) {
.grid-container .project-card {
  grid-column-end: span 4;
  max-width: none;
}
.grid-container .project-card.dashboard {
  grid-column-end: span 6;
}
  }

    @media (max-width: 736px){
    .grid-container .project-card,
    .grid-container .project-card.dashboard {
      grid-column: start / end;
    }
  }

.grid-container .project-card {
background-color: white;
  // border: solid 2px #d8d8d8;
  // width: 100%;
  // height: 100%;
  display: flex;
  flex-direction: column;
  // justify-content: flex-end;
  // align-items: flex-end;
  border-bottom: 5px solid $accent-yellow;
}

.grid-container .project-card.featured {
  border-bottom: 5px solid $primary-blue;
}

.grid-container .project-card.featured h3 {
  color: $primary-blue;
}

.grid-container .project-card.dashboard {
  border-bottom: 5px solid $primary-blue;
}

.grid-container .project-card.report {
  border-bottom: 5px solid $dark-blue;
}


.grid-container .project-card .resource-type,
.grid-container .project-card .card-header,
.grid-container .project-card .card-content {
  padding: 10px 15px;
}

.grid-container .project-card .card-image {
//   object-fit: cover;
// // height: 100%;
height: 225px;
// width: 100%;
// transform: scale(1);
// object-position: center;
overflow: hidden;
position: relative;
}

.grid-container .project-card .card-image img {
  object-fit: cover;
height: 100%;
// height: 225px;
width: 100%;
transform: scale(1);
object-position: center;
// overflow: hidden;
// position: relative;
// max-width: none;
}

.grid-container .project-card .card-header {
  font-size: 0.875rem;
  color: #646464;
  text-transform: uppercase;
  letter-spacing: 0.175rem;
}

.grid-container .project-card .resource-type {
  font-size: 0.875rem;
  color: #646464;
  text-transform: uppercase;
  font-weight: 500;
  // color: $link-red;
}

.grid-container .project-card a h3 {
  margin-top: 0;
  line-height: 1.4;
}

.grid-container .project-card a .card-content p {
  color: $body-text;
}

.grid-container .project-card a.external-link .card-image::before {
  width: calc(1.3rem + .6vw);
  height: calc(1.3rem + .6vw);
  content: url("https://raw.githubusercontent.com/virginiaequitycenter/cville-equity-atlas/main/assets/img/external-link-sq-arrow-up.svg");
  margin: 15px;
  // float: right;
  position: absolute;
  z-index: 1;
  right: 0;
  }


div.hero-container {
  // @include flexbox();
  // @include flex-flow(row wrap);
  // @include align-items(center);
  // background-color: #ffffff;
  // padding: 2.5rem 1.5rem;
  position: relative;
  // z-index: 4;
  top: -460px;
  // height: 360px;
  // background-color: rgba(255,255,255,0.95);
  // padding: 1.5rem 1.5rem;
  margin: auto;
// height: 320px;
// padding: 45px 86px;
// padding: 45px 8%;
// width: 85%;
}

div.hero-container div.post-update-text {
  background-color: rgba(255,255,255,0.95);
  padding: 45px 86px;
}

@media screen and (max-width: 768px) {
  div.hero-container {
    top: 0;
    padding: 0 !important;
    width: 100%;
  }

  div.hero-container div.post-update-text {
    padding: 1.5rem 7.5%;
  }
}

a.report-link {
  font-family: $font-heading;
}

.flex-item-two {
  // @include flex(0 0 auto);
  flex: 0 0 48%;
  // width: 50%;
  max-width: 100%;
  // padding-right: calc(3rem * .5);
  // padding-left: calc(3rem * .5);
  margin-top: 2.5rem;
}

// .flex-item-two.right {
//   padding-left: calc(3rem * .5);
//   padding-right: 0;
// }

// .flex-item-two.left {
//   padding-right: calc(3rem * .5);
//   padding-left: 0;
// }

.flex-item-two img {
  // border-radius: 4px;
  // box-shadow: 0 0.2rem 0.5rem rgba(0,0,0,.175) !important;
  // box-shadow: 0 .75rem 2rem rgba(0,0,0,.175) !important;
  width: 100%;
  height: auto;
}

.flex-item-two h2 {
  margin: 0 0 20px 0;
}

@media screen and (max-width: 768px) {
  .flex-item, .flex-item-two {
    // width: 100%;
    flex: 0 0 100%;
  }
  .flex-item-two {
    padding-right: 0 !important;
    padding-left: 0 !important;
    margin-bottom: 1rem;
    margin-top: 1rem;
  }
  // div.hero-container{
  //   top: 0;
  //   max-width: 100vw !important;
  //   // padding: 10px 25px;
  //   // @include flex-flow(row-reverse wrap)
  // }
}

div.home-page header a,
div.flex-container div.flex-item a {
  text-decoration: none !important;
}

a div.hero-container div.flex-item-two p {
  font-size: 1em;
  color: #40484F;
  font-weight: 300;
}

.content-box {
  @include flexbox();
  @include flex-direction(row);
  // margin: 0 0.5rem;
  // padding: 1rem;
  color: #fff;
  background-color: $primary-blue;
  height: 100%;
  box-shadow: 0 0.2rem 0.5rem rgba(0,0,0,.175) !important;
  // -webkit-transition: background-color 0.25s;
  // transition: background-color 0.25s;
  min-height: 175px;
}

.content-box:hover {
  background-color: $secondary-blue;  
  
  .partner-logos::before {
    content:"";
    display: block;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    background-color: rgba(5,47,95,0.5);
  }
}

.content-box .content-text {
  @include flexbox();
  @include flex-direction(column);
  @include justify-content(space-between);
  height: 100%;
  padding: 1em 0.83333em; //1rem 1.5rem;
  width: 60%;
}

.flex-container.reports .content-box {
  min-height: 225px;
}
.flex-container.reports .content-box .content-text {
  width: 50%;
}
.flex-container.reports .content-box .partner-logos {
  width: 50%;
}

.content-box .content-text h3,
.content-box .content-text p {
  color: #fff;
}

.content-box .content-text h3 {
  margin-top: 0;
  font-size: 1.4em;
}

.content-box .content-text p {
  // font-weight: 300;
  line-height: 1.2;
  font-size: .9em;
  margin-bottom: 0px;
}

.content-box .partner-logos {
  // @include flexbox();
  // @include flex-flow(row wrap);
  // @include align-items(center);
  // @include justify-content(center);
  position: relative;

  width: 40%;
  // width: 100%;
  background-color: #ffffff;
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-blend-mode: multiply;

  &::before {
    content:"";
    display: none;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    background-color: rgba(5,47,95,0.7);
  }
}

// .content-box .partner-logos img {
//   @include flex(0, 1, 50%);
//   padding: 0.5rem;
// }

@media screen and (max-width: 768px) {
  // .content-box {
  //   // @include flex-direction(column);
  //   // height: auto;
  // }

  .content-box .content-text {
    // padding: 1rem .75rem;
    // width: 100%;
    width: 60%;
  }

  .content-box .content-text p {
    font-weight: 400;
    font-size: 1.2em;
  }
  .content-box .content-text h3 {
    font-size: 1.6em;
  }

  .content-box .partner-logos{
    // @include justify-content(space-around);
    width: 40%;
  }
  // .content-box .partner-logos img {
  //   @include flex(0, 1, 33.33%);
  // }
}

.atlas-btn {
  background-color: #FFFFFF ;
  color: #00416B;
  border-color: #204d74 ;
  font-family: $font-heading;
  // font-size: 1.2em;
  font-size: 1rem;
margin-bottom: 1rem;
}

.atlas-btn:hover {
  background-color: $secondary-blue;      
  color: #fff;
}

div.main-container a {
  position: relative;
  // color: $dark-blue;
  color: $brand-blue-light;
  // color: $body-text;
  text-decoration: none;
  // border-bottom: 2px solid $primary-blue;
  // background-color: none;
  // -webkit-transition: color 0.3s, background-color 0.3s;
  // transition: color 0.3s, background-color 0.3s;
transition: all .2s ease-in-out;
// background: linear-gradient(to top, $brand-blue-light 50%,transparent 50%);
// background-size: 100% 200%;
// background-position: top left;
}

div.main-container a:hover {
  color: $dark-blue;
  // color: white;
  // background-color: $brand-blue-light;
  // color: #fff !important;
// background-position: bottom left;
  // border-bottom: 2px solid $accent-yellow;
}

// div.main-container a svg {
//   transition: all .2s ease-in-out;
// }

// div.main-container a:hover svg{
//   fill: #FFF !important;
// }

.downloadBtn {
  display: inline-flex;
  align-items: center;
  color: $secondary-blue !important;
  padding: .25rem 0;
}

// .downloadBtn:hover {
//   color: #fff !important;
// }

.downloadBtn svg {
  padding-right: .4em;
  fill: $secondary-blue !important;
}

#toTopBtn {
  display: none; 
  position: fixed; 
  bottom: 20px; 
  right: 0px; //20px; 
  z-index: 99; 
  border: none; 
  outline: none; 
  background-color: transparent; //transparent;
  cursor: pointer;

  svg {
  height: 50px;
  width: 50px;
  fill: #d8d8d8; //#8DA7BE; //$secondary-blue
  }
}

#toTopBtn:hover {
  svg {
    fill: $brand-blue-light;//$secondary-blue; //$link-red;
  }
}


// breadcrumbs

.breadcrumb-container {
  background-color: #EBEEF2;
  margin-top: 65px;
}

@media screen and (max-width: 768px) { 
  .breadcrumb-container {
    margin-top: 50px;
  }
}

article.landing-page .breadcrumb-container {
  margin-top: 0;
}

.breadcrumbs {
  font-size: 16px;
  color: #40484F; //$sidenav-background;
  line-height: 1;
  font-weight: 500;
  letter-spacing: 0;
  padding-top: 1em;
  padding-bottom: 1em;
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
}

#breadcrumbs a {
  cursor: pointer;
  color: $brand-blue-light;
  text-decoration: none;
  &:hover {
    color: $dark-blue;
    text-decoration: none;
  }
  &:focus {
    color: $brand-blue-light;
  }
  &:active {
    color: $brand-blue-light;
  }
  h1 &,
  h2 &,
  h3 & {
    text-decoration:none;
  }
}


// RMD Reports

.rmd-main {
  // max-width: 1060px;
  margin-left: auto;
  margin-right: auto;
}

.logo-span {
  @include flexbox();
  @include flex-direction(row);
  @include flex-wrap(wrap);
  @include justify-content(flex-start);
  @include align-items(center);
  margin: 1.5rem 0;
}

.logo-span img {
  margin: 10px 20px;
  max-height: 100px;
}

@media screen and (max-width: 768px) {
  .logo-span {
    @include justify-content(space-evenly);
    margin: 0;
  }
  .logo-span img {
    margin: 8px 0;
    max-height: 70px;
  }
}

@media screen and (max-width: 768px) {
  .list-group-item.active {
    z-index: 0;
    color: inherit;
    background-color: inherit;
    border-color: inherit;
  }
}

// #TOC {
//   padding-top: .67em;
// }


#TOC  ul {
list-style: none;
margin: 0;
padding: 0;
// border-left: 1.5px solid rgba(141,167,190, 0.5); /* #efefef; */
}

#TOC li {
margin-bottom: .35rem;
// margin-left: 1rem;
}

#TOC li a {
text-decoration: none;
}



// #TOC a {
//   text-decoration: none;
//   display: block;
//   padding: .125rem 0;
//   // color: $dark-blue;
//   font-weight: 500;
// }

// #TOC a:hover,
// #TOC a:focus {
//   color: #666;
// }

@media screen and (min-width: 768px) {
  .toc-float {
  position: fixed;
  margin: 0 1rem;
  width: 25%;
  }

}

//  .toc-float ul li.active > a {
//    color: #40484F;
//  }



//  .toc-float  ul {
//    list-style: none;
//    margin: 0;
//    padding: 0;
//    border-left: 1.5px solid rgba(141,167,190, 0.5); /* #efefef; */
//  }

//  .toc-float li {
//    margin-left: 1rem;
//  }

//  .toc-float a {
//    text-decoration: none;
//    display: block;
//    padding: .125rem 0;
//    color: #ccc;
//    transition: all 50ms ease-in-out; /* 💡 This small transition makes setting of the active state smooth */
//  }

//  .toc-float a:hover,
//  .toc-float a:focus {
//    color: #40484F;
//  }



// Tabset, tab-pills -moved to own style sheet

// .nav-link, .nav-tabs > li > a, 
// .nav-pills > li > a, 
// ul.nav.navbar-nav > li > a { 
//   color: $dark-blue;
// }

// .nav-pills li.active a, .nav-pills li.active a:focus, .nav-pills li.active a:hover {
//   background-color: $dark-blue;
//   color: #FFFFFF !important;
// }

// Blockquote

blockquote {
  padding: 4px 22px;
  margin: 0 0 22px;
  font-size: 20px;
  border-left: 5px solid $primary-blue;
}

// html tools

.html-widget {
  margin-bottom: 20px;
}

// Reactable

.reactable {
  font-family: "Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size: 14px;
  line-height: 1.42857143;
  color: #666666;
}

